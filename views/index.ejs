<%- include('partials/header') %>

<div class="table-container">
    <h1 class="todo-title">Todo List</h1>
    <div>
        <a href="/add_todo" class="btn">Add Todo</a>
    </div>
    <br>

    <% if (todos.length === 0) { %>
        <p>No todos available.</p>
    <% } else { %>
        <table>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Created At</th>
                <th>Updated At</th>
                <th>Action</th>
            </tr>
            <% todos.forEach(todo => { %>
                <tr>
                    <td><%= todo.title %></td>
                    <td><%= todo.description %></td>
                    <td><%= todo.createdAt.toLocaleString() %></td>
                    <td><%= todo.updatedAt.toLocaleString() %></td>
                    <td>
                        <a href="/update_todo/<%= todo._id %>" class="btn">Edit</a>
                        <a href="/delete_todo/<%= todo._id %>" class="btn">Delete</a>
                    </td>
                </tr>
            <% }) %>
        </table>
    <% } %>
</div>

<%- include('partials/footer') %>
